27.07.2020
Как создаются игры с открытым миром
###
***
Компьютерные игры с открытым миром невероятно сложны в разработке. Над ними трудится команда из множества людей - это программисты, дизайнеры, художники, создатели квестов (игровых заданий). О том, как создать игру и что для этого нужно, рассказал Дмитрий Табаков, креативный директор студии Allods Team компании MY.GAMES.  Большой мир игры "стоит на трех китах": образцах игровых районов ("локаций"), схеме общей географии и ожидаемом пути игрока. Образцы игровой локации - это вручную собранные, небольшие примеры того, как будут выглядеть в игре различные пространства - например, город на примере одного квартала, болото с монстрами размерами в "12 соток", небольшой лес, подземелье из нескольких комнат. "Это как кубики LEGO, на основе которых можно потом собирать игровой мир, понимая ожидаемые размеры, население и игровой процесс в каждом из этих мест".Общая схема позволяет получить весь игровой мир в масштабе и представляет собой карту, которая в будущем соберется из подобных "кубиков", доработанных и оформленных так, чтобы каждый из них выглядел достаточно уникально. На ней же нанесен весь ландшафт и карта высот - горы, реки, каньоны и прочее.И, наконец, ожидаемый путь игрока по миру и его схема тесно связаны: мир и цепочки событий в нем строятся так, чтобы на всем путешествии игрок испытывал нужные эмоции: например, яркое начало, зовущее к приключениям; исследование, ведущее сквозь различные локации от пустынь до крупных городов (часто меняя окружение, чтобы игрок не заскучал) и концовка у жерла извергающегося вулкана.Сначала рисуется примерная схема того, как будет выглядеть игровой мир. Она довольно быстро может быть перенесена из схемы на бумаге в игровой мир: для этого на большой карте можно в буквальном смысле расставить большие покрашенные кубы - как массо-габаритные макеты "здесь будет город", "здесь будет болото", и примерно "смять" ландшафт, формируя горы и озера, прокладывая дороги.После того как план готов, его необходимо оценить и доработать, исправляя различные ситуации вроде "нереалистично расположенного по климату леса" или "непроведенных дорог к городу". Затем, когда верхний уровень игрового мира готов - каждый его конкретный район начинает прорабатываться, наполняясь городами, лесами, подземельями и всеми прочими ландшафтами из их образцов. Это большая работа, которая выполняется командами дизайнеров уровней, художников по окружению и других специалистов.Для наполнения карты игрового мира существуют технологии, позволяющие в несколько кликов мыши "посадить лес", "собрать деревню из конструктора". Затем необходима ручная доработка получившегося - и даже сбор отдельных локаций полностью вручную. Например, 13-й квартал городских трущоб может быть полностью создан генератором, а цитадель императора государства - полностью вручную.После этого создаются игровые задания. "Основные", как правило, закладываются еще в этап проектирования карты в рамках описанного выше пути игрока. Второстепенные - комбинация ожиданий дизайнера уровней в плане эмоций и перемещения игрока, и требований сценариста по целостности повествования внутри игры."Например, хочется отправить игрока из одного города в другой, но по сценарию игры в этот момент наземные дороги перекрыты - поэтому игрок получит его в доках и отправится в путь на корабле, - поясняет Табаков. - Порой, конечно, возникают курьезные ситуации. Например, дизайнер уровней обнаруживает, что в деревне нет склада - удаляет случайное дерево и ставит сарай с вещами на его место. Однако раньше под этим деревом проходил квест о двух влюбленных - но теперь они признаются друг другу в любви не под сенью раскидистого дерева, а посреди сарая с деревенской утварью". Для исправления всех таких ситуаций нужны тестировщики, и в случае большого открытого мира у них много работы.Для населения мира игры NPC (Non-Player Character - неигровой персонаж) существуют три подхода. Во-первых, это вручную созданные (обычно ключевые сюжетные) NPC с уникальными голосами, репликами, одеждой, поведением и всем остальным. Во-вторых, созданные дизайнером с помощью конструктора методом "выбери тело, прическу, шапку, костюм, штаны, голос и введи имя-фамилию" - регулярные NPC, у которых все же есть собственное имя и роль в истории. В-третьих - полностью скопированные или созданные генератором - безликие и безымянные стражники, прохожие на улицах, и другие - те, кто в кино являются "массовкой".Кроме того, в любой сюжетной игре существуют кат-сцены - когда игрок наблюдает за своим персонажем или другими персонажами со стороны. Что происходит в кат-сцене описывает сценарист, а постановкой и скриптовой реализацией занимается режиссер - прямо как в кино. Менее важные кат-сцены могут собирать и дизайнеры уровней.